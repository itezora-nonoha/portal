## ブートローダ

|内容|SysV init系|UEFI|
|-|-|-|
|PCファームウェア|BIOS|UEFI|
|ブートローダをメモリにロードする際の参照先|ディスクの先頭ブロック（MBR）に書き込まれたブートローダ|UEFIブートエントリで指定されたEFIシステムパーティション中のブートローダ|
|ブートローダ|GRUB|GRUB2|
|カーネルが生成する1つ目のユーザプロセス|/sbin/init|systemd|

|コマンド|説明|
|-|-|
|grub-install|必要なファイルをインストールして、ブートローダを構成する|


### grub2のディレクトリと設定ファイル

|パス|内容|
|-|-|
|/boot/grub|設定ファイルとモジュールの置かれたディレクトリ。ディストリビューションによっては`/boot/grub2`|
|/boot/grub/grub.cfg|設定ファイル。ディストリビューションによっては`/boot/grub2/grub.cfg`|
|/usr/lib/grub/i386-pc|モジュールの置かれたディレクトリ。<br>この下のモジュールがGRUB2のインストール時に`/boot/grub`の下にコピーされて使用される|


## システムメンテナンス

### ランレベル

|ランレベル|systemdのターゲットサービス|説明|内容|
|-|-|-|-|
|0|-|停止|システムの停止|
|1|rescue.target|シングルユーザ|rootだけログイン可能（システムメンテナンスで使用される）|
|3|multi-user.target|マルチユーザ|rootだけでなく一般ユーザもログイン可能。<br>コンソールに表示されたログインプロンプトからログインする|
|5|graphical.target|マルチユーザ＋GUI画面|ディスプレイマネージャのログイン画面からX Window Systemにログインする|
|6|-|再起動|システムの再起動|

> システム起動後のデフォルトのランレベルは`/etc/inittab`で定義できる

|コマンド|説明|
|-|-|
|init ランレベル|ランレベルを変更する|
|telinit ランレベル|ランレベルを変更する|
|telinit q|`/etc/inittab`ファイルを変更後、即時にinitプロセスに反映させるために実行するコマンド|
|runlevel|現在のランレベルを確認する|
|who -r|現在のランレベルを確認する|

#### systemdのデフォルトターゲットの取得
- `systemctl get-default`

#### systemdのデフォルトターゲットの設定
- `systemctl set-default multi-uesr.target`

|コマンド|説明|
|-|-|
|wall [メッセージ]|全員の端末にメッセージを送る|
|shutdown [オプション] 猶予時間 [メッセージ]|システムの停止や再起動を行う|
|hwclock|ハードウェアクロックとシステムクロックを調整する|
|ntpdate [オプション] NTPサーバのアドレス|NTPを使用してシステム時計を設定する（-qオプションをつけると、問い合わせのみを行う）|


### 時刻設定

|コマンド|説明|
|-|-|
|ntpdate|NTPを使用してシステムクロックを設定する
|hwclock|システムクロックとハードウェアクロックの同期を行う

#### hwclockコマンド

- ハードウェアクロックをシステムクロックに合わせる（システムクロックを基準にして調整する）

```sh
hwclock --systohc
```

|オプション|説明|
|-|-|
|-u|UTCとする|
|--systohc, -w|ハードウェアクロックをシステムクロックに合わせる|
|--hctosys, -s|システムクロックをハードウェアクロックに合わせる|


## システム監視

|コマンド|説明|
|-|-|
|uptime|現在時刻、システム起動からの時間、システム上にいるユーザ数、システムの平均負荷を順に表示|
|w|ログインしている人とその人がしていることを表示。ヘッダには`uptime`と同じ内容が表示される|
|top|プロセスの情報を周期的にリアルタイムで表示する。1行目には`uptime`と同じ内容が表示される|
|watch|指定されたコマンドを繰り返し実行する|

### unameコマンド

- マシンアーキテクチャやカーネルバージョンなどのシステム情報を表示する

``` sh
uname [オプション]
```

|コマンド|説明|
|-|-|
|-m|マシン（ハードウェア）のタイプを表示する）
|-n|マシンのネットワークホスト名を表示する
|-r|OSのリリースを表示する
|-s|OSの名称を表示する
|-v|OSのバージョンを表示する
|-a|情報全てを表示する
