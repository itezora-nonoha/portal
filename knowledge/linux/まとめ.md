メモしておきたいコマンドや、設定ファイルのフルパスなどをまとめる。  
（viエディタ、ファイルシステム、rpm/yumなどのパッケージ管理、XWindow、プリンタ周り）



#### manコマンドが参照するドキュメントが配置されている場所
- /usr/share/man … ディストリビューションに含まれるパッケージ
- /usr/local/share/man … ディストリビューションに含まれないソフトウェア


#### 設定ファイル

|ファイル|詳細|
|-|-|
|/etc/fstab|デバイスやマウントポイント、ファイルシステムについて記述（6フィールド。デバイスファイル名・マウントポイント・ファイルシステムの種類・マウントオプション・バックアップの指定・ファイルシステムのチェック）|
|/etc/ld.so.conf|ldconfigコマンドで使用する|
|/etc/ld.so.cache|ldconfigコマンドで使用する|
|/etc/yum.conf|yumコマンドの基本設定ファイル|
|/etc/yum.repos.dディレクトリ配下のファイル|リポジトリの設定ファイル|
|/etc/apt/sources.list|パッケージの置かれているネットワーク上の場所が記述されているファイル（Debian系）|
|/proc/interrupt||
|/proc/modules||
|/boot/grub/grub.conf|ブートローダGRUBの設定ファイル|
|/boot/grub/menu.list|ブートローダGRUBの設定ファイル|
|/proc/cmdline|ブート時にカーネルに渡された引数を確認する|
|/etc/inittab|システム起動に関する設定ファイル（ランレベルなどを記述）|
|/etc/passwd|ユーザ情報の一覧（7つのフィールドを持つ）|
|/etc/shadow|ユーザパスワード情報の一覧|
|/etc/group|グループ情報の一覧|
|/etc/gshadow|グループパスワード情報の一覧|
|/etc/skelディレクトリ|配下に配置したファイルが、ユーザ作成時にホームディレクトリに複製される|
|/etc/nsswitch.conf|ネームサービススイッチの設定を記述する|
|/etc/cron.dailyディレクトリ|配下のコマンドを1日ごとに実行する（anacron）|
|/etc/cron.weeklyディレクトリ|配下のコマンドを1週間ごとに実行する（anacron）|
|/etc/cron.monthlyディレクトリ|配下のコマンドを1ヶ月ごとに実行する（anacron）|
|/etc/cron.allow|cronを利用できるユーザを記述|
|/etc/cron.deny|cronを利用できなくするユーザを記述|
|/etc/localtime|システムクロックの時刻からローカルタイムへ変換するための時差情報を格納|
|/etc/ntp.conf|NTPデーモンが参照するファイル|
|/etc/syslog.conf|syslogdの設定ファイル|
|/var/log/messages|カーネルやデーモンからのメッセージなどのシステムのほとんどのメッセージを記録しているファイル|
|/etc/cups/printers.conf|プリントサービスCUPSに関する設定を記述するファイル|
|/etc/services|サービス・ポートに関する内容を記述|
|/etc/resolv.conf|DNSに関する情報を記述|
|/var/log/wtmp|最近ログインしたユーザのリスト（lastコマンドで表示）|

#### その他

|コマンド|説明|
|-|-|
|ldconfig|必要なリンクの作成及びライブラリのキャッシュを行う|
|ldd [オプション] ファイル名|共有ライブラリへの依存関係を表示する|
|logger [オプション] [メッセージ]|任意のファシリティ・プライオリティを指定し、syslogデーモンに送る|
|logrotate [オプション] [設定ファイル]|任意の設定ファイルを指定し、ログローテーションに関する設定を行う|

#### ハードウェア管理

|コマンド|説明|
|-|-|
|lspcl|システムのすべてのPCIパスと、接続されているデバイスに関する情報を表示する（デバイスのIRQ情報・バススピード・デバイスのベンダID）|
|lsusb|USBに接続したデバイスの情報を表示する|
|lsmod|現在システムにロードされているモジュールの状態を表示する|
|modprobe|カーネルへモジュールの追加や削除を行う|
|lsscsi|SATAディスクの情報やSCSIシミュレーションの情報を表示|
|lshw|SATAディスクの情報やSCSIシミュレーションの情報を表示|


#### デーモン

|-|-|
|acpid|ACPIイベント（電源に関するイベント）の処理を行う|
|systemd-logind|systemdを採用したシステムでACPIイベントの処理を行う|
|xinetd|ネットワークからのリクエストの受け付ける|

#### bash環境の設定情報の読み込み順

|順番|ファイル|
|-|-|
|1|/etc/profile|
|2|~/.bash_profile|
|3|~/.bash_login|
|4|~/.profile|


## ロギング

|コマンド|説明|
|-|-|
|logger [オプション] [メッセージ]|任意のファシリティ・プライオリティを指定し、syslogデーモンに送る|
|logrotate [オプション] [設定ファイル]|任意の設定ファイルを指定し、ログローテーションに関する設定を行う|


## logger

- 任意のファシリティとプライオリティを指定し、ログメッセージをsyslogデーモンに送る。

`logger -p user.info "Syslog Test"`

### 設定ファイル

|ファイル|詳細|
|-|-|

|/etc/syslog.conf|どのようなログを取得するかを指定する|



## システム管理

|コマンド|説明|
|-|-|
|wall [メッセージ]|全員の端末にメッセージを送る|
|shutdown [オプション] 猶予時間 [メッセージ]|システムの停止や再起動を行う|
|runlevel|現在のランレベルを確認する|
|who -r|現在のランレベルを確認する|
|hwclock|ハードウェアクロックとシステムクロックを調整する|
|ntpdate [オプション] NTPサーバのアドレス|NTPを使用してシステム時計を設定する（-qオプションをつけると、問い合わせのみを行う）|

#### unameコマンド

- マシンアーキテクチャやカーネルバージョンなどのシステム情報を表示する

``` sh
uname [オプション]
```

|コマンド|説明|
|-|-|
|-m|マシン（ハードウェア）のタイプを表示する）
|-n|マシンのネットワークホスト名を表示する
|-r|OSのリリースを表示する
|-s|OSの名称を表示する
|-v|OSのバージョンを表示する
|-a|情報全てを表示する


### 時刻設定

|コマンド|説明|
|-|-|
|ntpdate|NTPを使用してシステムクロックを設定する
|hwclock|システムクロックとハードウェアクロックの同期を行う

#### hwclockコマンド

- ハードウェアクロックをシステムクロックに合わせる（システムクロックを基準にして調整する）

```sh
hwclock --systohc
```

|オプション|説明|
|-|-|
|-u|UTCとする|
|--systohc, -w|ハードウェアクロックをシステムクロックに合わせる|
|--hctosys, -s|システムクロックをハードウェアクロックに合わせる|



## X Window System

||ランレベル|target|
|-|-|-|
|テキストログイン画面が表示される|3|multi-user.target|
|グラフィカルログイン画面が表示される|5|graphical.target|

### デスクトップ環境による違い

||GNOME|KDE|X Window System|
|-|-|-|-|
|ディスプレイマネージャ|gdm|kdm, sddm|xdm
|ウィンドウマネージャ|metacity, mutter|kwin|twm

### XWindowに関するコマンド

|コマンド|説明|
|-|-|
|xdpyinfo|Xサーバについての情報を表示する|
|xwininfo|クリックした特定のウィンドウの情報を表示する|

## プリンタ

|コマンド|説明|
|-|-|
|lpadmin -p プリンタ名 オプション|新規にプリンタを登録する
|lpadmin -d プリンタ名|デフォルトプリンタを設定する|
|lpadmin -x プリンタ名|デフォルトプリンタを削除する|
|lpstat|プリンタキューの確認（System V系）|
|lpq|プリンタキューの確認（BSD系）|
|lpc|プリンタキューの確認（BSD系）|


## ブートローダ・カーネル



|内容|SysV init系|UEFI|
|-|-|-|
|PCファームウェア|BIOS|UEFI|
|ブートローダをメモリにロードする際の参照先|ディスクの先頭ブロック（MBR）に書き込まれたブートローダ|UEFIブートエントリで指定されたEFIシステムパーティション中のブートローダ|
|ブートローダ|GRUB|GRUB2|
|カーネルが生成する1つ目のユーザプロセス|/sbin/init|systemd|
